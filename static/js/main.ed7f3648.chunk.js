(this["webpackJsonpmap-dashboard"]=this["webpackJsonpmap-dashboard"]||[]).push([[0],{193:function(e,t,n){e.exports=n(396)},396:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),l=n.n(i),c=n(11),o=n(41),u=n(14),s=(n(210),n(211),function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],i=t[1],l=Object(u.c)((function(e){return e.data})),s=l.filteredData,d=l.titles;return r.a.createElement("div",{className:"ag-theme-alpine",style:{height:400,width:"100%",marginRight:""}},r.a.createElement(o.AgGridReact,{defaultColDef:{resizable:!0},onGridReady:function(e){i(e.api)},onRowDataChanged:function(){n&&n.sizeColumnsToFit()},rowData:s},d.map((function(e){return r.a.createElement(o.AgGridColumn,{key:e,field:e,sortable:!0,skipHeaderOnAutoSize:!0,suppressSizeToFit:!1})}))))}),d=n(94),f=n.n(d),m=n(168),p=n.n(m),v=n(169),b=n.n(v),g=n(20),h=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(decodeURIComponent(a[0])===e){var r=decodeURIComponent(a[1]);return(r.includes("|#|")||r.includes(","))&&(r=r.split("|#|").map((function(e){return e.split(",")}))),r}}},O=function(e,t){Array.isArray(t)&&(t=t.join("|#|"));var n=new URLSearchParams(window.location.search);n.set(e,t),window.history.replaceState(null,null,"?"+n.toString())},y=function(e){return O("t",e),{type:"SET_TITLE",payload:{text:e}}},j=function(e){return O("mi",e),{type:"SET_COLOR_AXIS_MIN",payload:{min:e}}},E=function(e){return O("ma",e),{type:"SET_COLOR_AXIS_MAX",payload:{max:e}}},w=function(e){return e=e.sort((function(e,t){return+e[0]>+t[0]?1:-1})),O("st",e),{type:"SET_COLOR_AXIS_STOPS",payload:{stops:Object(g.a)(e)}}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(e||[]).map((function(e){return e[1]}));return{type:"SET_MAP_DATA",payload:{series:{data:Object(g.a)(e),name:t},colorAxis:{min:Math.min.apply(Math,Object(g.a)(n)),max:Math.max.apply(Math,Object(g.a)(n))}}}},A=n(179);n(212)(f.a),b()(f.a),"undefined"!==typeof window&&(window.proj4=window.proj4||A.a);var D=function(){var e=Object(u.c)((function(e){return e.data})),t=e.mapData,n=e.displayField,i=Object(u.c)((function(e){return e.options})),l=Object(u.b)();return Object(a.useEffect)((function(){0!==t.length?l(x(t,n)):l(x())}),[t,n,l]),r.a.createElement(r.a.Fragment,null,i?r.a.createElement(p.a,{highcharts:f.a,options:i,constructorType:"mapChart"}):null)},S=function(){return r.a.createElement("div",{style:{width:"50%",padding:"10px",border:"1px solid #c4c4c4"}},r.a.createElement("div",{style:{width:"600",height:"400px"}},r.a.createElement(D,null)))},C=n(431),k=n(449),_=n(451),F=n(434),T=n(445),R=n(21),L=Object(C.a)((function(e){return{button:{display:"block"},formControl:{minWidth:120,width:"100%"}}}));function I(e){var t=e.values,n=e.onChange,i=e.label,l=e.value,o=L(),u=Object(a.useState)(l),s=Object(c.a)(u,2),d=s[0],f=s[1],m=Object(a.useState)(!1),p=Object(c.a)(m,2),v=p[0],b=p[1];Object(a.useEffect)((function(){d!==l&&f(l)}),[l,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{className:o.formControl},r.a.createElement(k.a,{id:"demo-controlled-open-select-label"},i),r.a.createElement(T.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:v,onClose:function(){b(!1)},onOpen:function(){b(!0)},value:d,style:{width:"100%"},onChange:function(e){f(e.target.value),n(e.target.value)}},r.a.createElement(_.a,{value:""},r.a.createElement("em",null,"None")),t.map((function(e){return r.a.createElement(_.a,{value:e,key:e},Object(R.startCase)(e))})))))}var N=function(e){return{type:"LOAD_DATA_SAGA",payload:{url:e}}},P=function(e,t){return O("df",e),O("a",t),{type:"SET_DISPLAY_FIELD",payload:{displayField:e,aggregationAction:t}}},z=function(e){return O("f",e),{type:"ADD_FILTERS",payload:{filteringFuncitons:e}}},M=function(e){return O("s",e),{type:"SET_STATE_AND_GROUP",payload:{stateKey:e}}},B=n(170),G=n(171),U=function(){function e(t,n){var a=this;Object(B.a)(this,e),this.arr=t,this.key=n,this.numberData=t.map((function(e){return parseFloat(e[a.key])})).filter((function(e){return!isNaN(e)}))}return Object(G.a)(e,[{key:"average",value:function(){if(this.countOfNumbers())return this.sum()/this.countOfNumbers()}},{key:"count",value:function(){return this.arr.length}},{key:"countOfNumbers",value:function(){return this.numberData.length}},{key:"max",value:function(){return void 0!==this._max||(this._max=Math.max.apply(Math,Object(g.a)(this.numberData))),this._max}},{key:"min",value:function(){return void 0!==this._min||(this._min=Math.min.apply(Math,Object(g.a)(this.numberData))),this._min}},{key:"sum",value:function(){return void 0!==this._sum||(this._sum=this.numberData.reduce((function(e,t){return e+t}),0)),this._sum}}]),e}(),V=Object.getOwnPropertyNames(U.prototype).filter((function(e){return"constructor"!==e})).map((function(e){return Object(R.startCase)(e)})),K=function(){var e=Object(u.c)((function(e){return e.data})),t=e.titles,n=e.stateKey,i=e.displayField,l=e.aggregationAction,c=Object(u.b)();Object(a.useEffect)((function(){var e=h("s"),t=h("df"),a=h("a");e!==n&&c(M(n)),(t&&t!==i||a&&a!==l)&&c(P(t,a))}),[t,n,i,l,c]);return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",flex:1}},(null===t||void 0===t?void 0:t.length)?r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(I,{value:n,values:t,onChange:function(e){c(M(e))},label:"State Field"})):null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(I,{value:i,values:t,onChange:function(e){c(P(e,l))},label:"Display Field"})),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(I,{value:l,values:V,onChange:function(e){c(P(i,e))},label:"Aggregation"}))):null)},X=n(439),W=n(172),H=n(173),q=n(174),Y=n(180),J=n(10),Q=n(452),$=Object(C.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function Z(e){var t=$();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,Object.assign({labelid:"date-picker-"+e.label,type:"date",className:t.textField,InputLabelProps:{shrink:!0},InputProps:{inputProps:Object(J.a)({},e)}},e)))}var ee=function(e,t){return e.map((function(e){return new Date(e[t])})).filter((function(e){return!isNaN(e.getTime())}))},te=function(e){return Object(Y.a)(e,"yyyy-MM-dd")},ne=function(e){var t=e.dataField,n=Object(c.a)(e.filterValues,2),i=n[0],l=void 0===i?"":i,o=n[1],s=void 0===o?"":o,d=e.onDataFieldChange,f=e.onFilterValueChange,m=Object(u.c)((function(e){return e.data})).rawData,p=Object(a.useState)(""),v=Object(c.a)(p,2),b=v[0],g=v[1],h=Object(a.useState)(""),O=Object(c.a)(h,2),y=O[0],j=O[1],E=Object(a.useCallback)((function(e,t){f([e,t])}),[f]);if(Object(a.useEffect)((function(){try{var e=function(e,t){var n=ee(e,t);return te(Object(H.a)(n))}(m,t),n=function(e,t){var n=ee(e,t);return te(Object(q.a)(n))}(m,t);g(e),j(n),l&&s||E(e,n)}catch(a){g(""),j("")}}),[t,g,j,d,m,E,l,s]),!t)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{label:"From",min:b,max:s,value:l,onChange:function(e){var t=e.target.value;E(t,s)}}),r.a.createElement(Z,{label:"To",min:l,max:y,value:s,onChange:function(e){var t=e.target.value;E(l,t)}}))};ne.defaultProps={filterValues:[]};var ae=ne;function re(e){return r.a.createElement(Q.a,Object.assign({style:{width:"100%",paddingBottom:"10px"}},e))}var ie=function(e){var t=Object(c.a)(e.filterValues,1)[0],n=void 0===t?"":t,i=e.onFilterValueChange,l=Object(a.useState)(n),o=Object(c.a)(l,2),u=o[0],s=o[1];Object(a.useEffect)((function(){console.log(n),s(n)}),[n]);return r.a.createElement(re,{label:"value",value:u,onChange:function(e){return s(e.target.value)},onBlur:function(e){var t;(t=e.target.value)!==n&&i([t])}})},le=n(175),ce=n.n(le),oe=["dateBetween","equals","greater","less"],ue=function(e){var t=e.filterSettings,n=e.onFilterChange,i=e.onDelete,l=Object(u.c)((function(e){return e.data})).titles,o=Object(a.useState)(""),s=Object(c.a)(o,2),d=s[0],f=s[1],m=Object(a.useState)(""),p=Object(c.a)(m,2),v=p[0],b=p[1],h=Object(a.useState)(""),O=Object(c.a)(h,2),y=O[0],j=O[1];Object(a.useEffect)((function(){var e=Object(W.a)(t),n=e[0],a=void 0===n?"":n,r=e[1],i=void 0===r?"":r,l=e.slice(2);f(a),b(i),j(l)}),[t]);var E=function(e){e.toString()!==y.toString()&&(j(e),n([d,v].concat(Object(g.a)(e))))};return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"flex-start",flex:1,paddingBottom:10}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1,marginRight:8}},r.a.createElement("div",null,r.a.createElement(I,{value:d,values:oe,onChange:function(e){f(e)},label:"Type"})),r.a.createElement("div",null,r.a.createElement(I,{value:v,values:l,onChange:function(e){b(e)},label:"Field"}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:2,flexGrow:2}},function(){if(!v)return null;switch(d){case"dateBetween":return r.a.createElement(ae,{dataField:v,filterValues:y,onDataFieldChange:b,onFilterValueChange:E});case"equals":case"greater":case"less":return r.a.createElement("div",{style:{margin:"0px 8px 0 15px ",flex:1}},r.a.createElement(ie,{filterValues:y,onFilterValueChange:E}));default:return null}}()),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},r.a.createElement(X.a,{onClick:function(){return i()},style:{marginBottom:"-8px"}},r.a.createElement(ce.a,{style:{padding:0}}))))},se=function(){var e=Object(u.c)((function(e){return e.data})),t=e.titles,n=e.filteringFuncitons,i=Object(a.useState)(n),l=Object(c.a)(i,2),o=l[0],s=l[1];console.log(o);var d=Object(u.b)();Object(a.useEffect)((function(){s(n)}),[n]),Object(a.useEffect)((function(){var e=h("f")||[];e.length>0&&e.toString()!==n.toString()&&d(z(e)),s(e)}),[t,d,n]);return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},r.a.createElement("div",{style:{alignSelf:"flex-end",flex:1}},r.a.createElement(X.a,{onClick:function(){s((function(e){return[].concat(Object(g.a)(e),[[]])}))}},"add filter")),o.map((function(e,t){return r.a.createElement(ue,{key:t,filterSettings:e,onFilterChange:function(e){return function(e,t){var n=Object(g.a)(o);n[e]=t,d(z(n))}(t,e)},onDelete:function(){return function(e){var t=Object(g.a)(o);t.splice(e,1),d(z(t))}(t)}})})))},de=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){var t=e.data;return null===t||void 0===t?void 0:t.url})),n=Object(a.useState)(t),i=Object(c.a)(n,2),l=i[0],o=i[1];Object(a.useEffect)((function(){o(t)}),[t]),Object(a.useEffect)((function(){var t=h("url");t&&e(N(t))}),[e]);return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(re,{label:"Url for a CSV",value:l,onChange:function(e){return o(e.target.value)},onBlur:function(n){var a;(a=n.target.value)!==t&&e(N(a))}}))},fe=n(446),me=n(447),pe=n(441),ve=n(440),be=8,ge=46,he=function(e){return"undefined"===typeof(e=e||window.event).which?e.keyCode:e.which},Oe=function(e){(function(e){return[37,39].indexOf(e.keyCode)>-1})(e)||function(e){return[ge,be].indexOf(e.keyCode)>-1}(e)?e.stopPropagation():function(e){var t=he(e);return 13===t||9===t}(e)||function(e){var t=he(e),n=e.key?e.key:String.fromCharCode(t);return function(e){return!!/[0-9]*\.?[0-9]+/.test(e)}(e.target.value+n)}(e)||e.preventDefault&&e.preventDefault()},ye=Object(a.forwardRef)((function(e,t){var n=function(){var t,n=!0;return e.keyPress===be||e.keyPress===ge?t="":e.charPress?(t=e.charPress,n=!1):(t=e.value,113===e.keyPress&&(n=!1)),{value:t,highlightAllOnFocus:n}}(),i=Object(a.useState)(n.value),l=Object(c.a)(i,2),o=l[0],u=l[1],s=Object(a.useState)(n.highlightAllOnFocus),d=Object(c.a)(s,2),f=d[0],m=d[1],p=Object(a.useRef)(null),v=e.charPress&&"1234567890.".indexOf(e.charPress)<0;return Object(a.useEffect)((function(){return window.addEventListener("keydown",Oe),function(){window.removeEventListener("keydown",Oe)}}),[]),Object(a.useImperativeHandle)(t,(function(){return{afterGuiAttached:function(){var e=p.current;if(e.focus(),f)e.select(),m(!1);else{var t=e.value?e.value.length:0;t>0&&e.setSelectionRange(t,t)}},getValue:function(){return o},isCancelBeforeStart:function(){return v},isCancelAfterEnd:function(){return o>1e6}}})),r.a.createElement("input",{ref:p,value:o,onChange:function(e){return u(e.target.value)},style:{width:"95%"}})})),je=n(176),Ee=Object(a.forwardRef)((function(e,t){var n=Object(a.useState)(e.value),i=Object(c.a)(n,2),l=i[0],o=i[1],u=Object(a.useRef)(null);return Object(a.useImperativeHandle)(t,(function(){return{getValue:function(){return l},isPopup:function(){return!0}}})),r.a.createElement("div",{ref:u,style:{padding:"10px"}},r.a.createElement(je.SketchPicker,{color:l,onChangeComplete:function(e){var t=e.hex;t&&o(t)}}))}));function we(e){return[e.stop,e.color]}var xe=function(e){var t=[];return e.api.forEachNode((function(e){return t.push(e.data)})),t.map(we)},Ae=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){var t=e.data;return null===t||void 0===t?void 0:t.url})),n=Object(u.c)((function(e){return e.options.title.text})),i=Object(u.c)((function(e){return e.options.colorAxis.min})),l=Object(u.c)((function(e){return e.options.colorAxis.max})),s=Object(u.c)((function(e){return e.options.colorAxis.stops.map((function(e,t){var n=Object(c.a)(e,2),a=n[0],r=n[1];return{stop:a,color:r,_id:t+a+r}}))})),d=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.options.colorAxis.stops.map((function(e,t){var n=Object(c.a)(e,2),a=n[0],r=n[1];return{stop:a,color:r,_id:t+a+r}}))}));return[function(t){var n=xe(t);e(w(n))},function(){var n=[].concat(Object(g.a)(t.map(we)),[[0,"#000"]]);e(w(n))},function(t){t.api.applyTransaction({remove:[t.data]});var n=xe(t);e(w(n))},function(t){e(y(t))},function(t){e(j(t))},function(t){e(E(t))}]}(),f=Object(c.a)(d,6),m=f[0],p=f[1],v=f[2],b=f[3],O=f[4],x=f[5];Object(a.useEffect)((function(){var n=h("mi");n&&n!==i&&t&&e(j(n))}),[i,t,e]),Object(a.useEffect)((function(){var n=h("ma");n&&n!==l&&t&&e(E(n))}),[l,t,e]),Object(a.useEffect)((function(){var a=h("t");a&&a!==n&&t&&e(y(a))}),[n,t,e]),Object(a.useEffect)((function(){var n=h("st"),a=s.map(we);n&&n.toString()!==a.toString()&&t&&e(w(n))}),[s,t,e]);return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(re,{label:"title",value:n,onChange:function(e){return b(e.target.value)}}),r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row"}},r.a.createElement(re,{label:"Color Axis Min",value:i,onChange:function(e){return O(e.target.value)}}),r.a.createElement(re,{label:"Color Axis Max",value:l,onChange:function(e){return x(e.target.value)}}),r.a.createElement(X.a,{style:{width:"33%"},onClick:p},"Add stop")),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{className:"ag-theme-alpine",style:{height:300,width:"100%"}},r.a.createElement(o.AgGridReact,{defaultColDef:{flex:1,minWidth:100,filter:!0,editable:!0},onGridReady:function(e){},onCellValueChanged:m,singleClickEdit:!0,frameworkComponents:{numericEditor:ye,colorEditor:Ee,deleteButton:function(){return r.a.createElement(X.a,{style:{width:"100%"}},"Delete")}},immutableData:!0,getRowNodeId:function(e){return e._id},rowData:s},r.a.createElement(o.AgGridColumn,{field:"stop",sortable:!0,editable:!0,cellEditor:"numericEditor"}),r.a.createElement(o.AgGridColumn,{flex:2,field:"color",editable:!0,cellEditor:"colorEditor",cellStyle:function(e){return{backgroundColor:null===e||void 0===e?void 0:e.value,color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",letterSpacing:"2px"}}}),r.a.createElement(o.AgGridColumn,{headerName:"Delete",cellRenderer:"deleteButton",onCellClicked:v,editable:!1})))))},De=Object(C.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),Se=function(){var e=De();return r.a.createElement(fe.a,null,r.a.createElement(me.a,{"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(ve.a,{className:e.heading},"Data Source")),r.a.createElement(pe.a,null,r.a.createElement(de,null)))},Ce=function(){var e=De();return r.a.createElement(fe.a,null,r.a.createElement(me.a,{"aria-controls":"panel4a-content",id:"panel3a-header"},r.a.createElement(ve.a,{className:e.heading},"Chart Settings")),r.a.createElement(pe.a,null,r.a.createElement(Ae,null)))},ke=function(){var e=De();return r.a.createElement(fe.a,{defaultExpanded:!0},r.a.createElement(me.a,{"aria-controls":"panel2a-content",id:"panel3a-header"},r.a.createElement(ve.a,{className:e.heading},"Filters")),r.a.createElement(pe.a,null,r.a.createElement(se,null)))},_e=function(){var e=De();return r.a.createElement(fe.a,{defaultExpanded:!0},r.a.createElement(me.a,{"aria-controls":"panel3a-content",id:"panel3a-header"},r.a.createElement(ve.a,{className:e.heading},"Aggregation Settings")),r.a.createElement(pe.a,null,r.a.createElement(K,null)))},Fe=function(){var e=Object(u.c)((function(e){return e.data})),t=e.loading,n=e.titles;return r.a.createElement("div",{style:{width:"50%",padding:"10px",border:"1px solid #c4c4c4",overflow:"scroll"}},r.a.createElement(Se,null),t?"loading...":null,!t&&n.length?r.a.createElement(Ce,null):null,n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null),r.a.createElement(_e,null)):null)},Te=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"US State Data Mapping Tool")),r.a.createElement("div",{style:{display:"flex",padding:"10px",justifyContent:"space-between",height:"422px"}},r.a.createElement(Fe,null),r.a.createElement(S,null)),r.a.createElement("div",{style:{flex:1,padding:"10px"}},r.a.createElement(s,null)))},Re=n(39);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le={al:"al",ak:"ak",az:"az",ar:"ar",ca:"ca",co:"co",ct:"ct",de:"de",fl:"fl",ga:"ga",hi:"hi",id:"id",il:"il",in:"in",ia:"ia",ks:"ks",ky:"ky",la:"la",me:"me",md:"md",ma:"ma",mi:"mi",mn:"mn",ms:"ms",mo:"mo",mt:"mt",ne:"ne",nv:"nv",nh:"nh",nj:"nj",nm:"nm",ny:"ny",nc:"nc",nd:"nd",oh:"oh",ok:"ok",or:"or",pa:"pa",ri:"ri",sc:"sc",sd:"sd",tn:"tn",tx:"tx",ut:"ut",vt:"vt",va:"va",wa:"wa",wv:"wv",wi:"wi",wy:"wy",alabama:"al",alaska:"ak",arizona:"az",arkansas:"ar",california:"ca",colorado:"co",connecticut:"ct",delaware:"de",florida:"fl",georgia:"ga",hawaii:"hi",idaho:"id",illinois:"il",indiana:"in",iowa:"ia",kansas:"ks",kentucky:"ky",louisiana:"la",maine:"me",maryland:"md",massachusetts:"ma",michigan:"mi",minnesota:"mn",mississippi:"ms",missouri:"mo",montana:"mt",nebraska:"ne",nevada:"nv",newhampshire:"nh",newjersey:"nj",newmexico:"nm",newyork:"ny",northcarolina:"nc",northdakota:"nd",ohio:"oh",oklahoma:"ok",oregon:"or",pennsylvania:"pa",rhodeisland:"ri",southcarolina:"sc",southdakota:"sd",tennessee:"tn",texas:"tx",utah:"ut",vermont:"vt",virginia:"va",washington:"wa",westvirginia:"wv",wisconsin:"wi",wyoming:"wy",ala:"al",ariz:"az",ark:"ar",calif:"ca",colo:"co",conn:"ct",del:"de",fla:"fl",ill:"il",ind:"in",kans:"ks",mass:"ma",mich:"mi",minn:"mn",miss:"ms",mont:"mt",neb:"ne",nebr:"ne",nev:"nv",nmex:"nm",ndak:"nd",okla:"ok",ore:"or",oreg:"or",sdak:"sd",tenn:"tn",tex:"tx",wash:"wa",wva:"wv",wis:"wi",wisc:"wi",wyo:"wy"},Ie=n(442),Ne=n(448),Pe=n(443),ze=n(444),Me=Object(R.memoize)((function(e){var t="string",n=parseFloat(e),a=new Date(e);return n.toString()===e.toString()?(t="number",e=n):isNaN(a.valueOf())||(t="date",e=a),[t,e]})),Be=function(e,t,n,a,r){return function(i){if(!e)return function(){return!0};var l=Me(e),o=Object(c.a)(l,2),u=o[0],s=o[1],d=function(e,t){switch(e){case"string":return""+t;case"date":return new Date(t);case"number":return parseFloat(t);default:return t}}(u,i[t]);switch(u){case"number":return n(d,s);case"date":return a(d,s);default:return r(d,s)}}},Ge={dateBetween:function(e,t,n){return t=new Date(t),n=new Date(n),function(a){var r=new Date(a[e]);return!isNaN(r.getTime())&&Object(Ie.a)(r,{start:t,end:n})}},equals:function(e,t){var n=Object(R.memoize)((function(e,t){return e===t})),a=Object(R.memoize)((function(e,t){return Object(Ne.a)(new Date(e),t)})),r=Object(R.memoize)((function(e,t){return e===t}));return Be(t,e,n,a,r)},greater:function(e,t){var n=Object(R.memoize)((function(e,t){return e>=t})),a=Object(R.memoize)((function(e,t){return Object(Pe.a)(new Date(e),t)})),r=Object(R.memoize)((function(e,t){return e>=t}));return Be(t,e,n,a,r)},less:function(e,t){var n=Object(R.memoize)((function(e,t){return e<=t})),a=Object(R.memoize)((function(e,t){return Object(ze.a)(new Date(e),t)})),r=Object(R.memoize)((function(e,t){return e<=t}));return Be(t,e,n,a,r)}},Ue=function(e){var t=Ge[e];if(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t.apply(void 0,a)}return null},Ve=function(e,t){if(!e)return[];var n=t.reduce((function(t,n){if(!n[e])return t;var a=Ke(n[e]);return a?(t[a]||(t[a]=[a,[]]),t[a][1].push(n),t):t}),{});return Object.values(n)},Ke=function(e){if("string"!==typeof e)return null;var t=Le[e.toLowerCase().replace(/[^a-z]/gim,"")];return t?"us-"+t:null},Xe=function(e,t){if(0===t.length)return e;var n=t.map((function(e){return Ue.apply(void 0,Object(g.a)(e))})).filter(Boolean);return e.filter((function(e){return n.every((function(t){return t(e)}))}))},We=function(e,t,n){return n&&t?(n=Object(R.camelCase)(n),e.map((function(e){var a=Object(c.a)(e,2),r=a[0],i=a[1],l=new U(i,t);return[r,l[n](),l]}))):[]},He=function(e,t){return t&&Array.isArray(e)?(t=Object(R.camelCase)(t),e.map((function(e){var n=Object(c.a)(e,3),a=n[0],r=(n[1],n[2]);return[a,r[t](),r]}))):[]},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=e.slice(0,e.indexOf("\n")).split(t),a=e.slice(e.indexOf("\n")+1).split("\n");return[n,a.map((function(e){var a=e.split(t);return n.reduce((function(e,t,n){return e[t]=a[n],e}),{})}))]},Ye={url:"",titles:[],rawData:[],filteredData:[],stateKey:"",groupData:[],displayField:"",aggregationAction:"",filteringFuncitons:[],mapData:[],loading:!1},Je={chart:{map:n(177)},title:{text:""},mapNavigation:{enabled:!0},colorAxis:{min:0,max:1,stops:[[0,"#00FF00"],[.5,"#FFF"],[1,"#C40401"]]},series:[{name:"Separators",type:"mapline",color:"silver",nullColor:"silver",showInLegend:!1,enableMouseTracking:!1}]},Qe=n(181),$e=n(68),Ze=n.n($e),et=n(178),tt=n.n(et),nt=function(e){return function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)?tt.a.get("https://map-dashboard-cors.herokuapp.com/".concat(e),{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Access-Control-Allow-Headers"}}):Promise.reject("invalid url")};var at=n(42),rt=Ze.a.mark(lt),it=Ze.a.mark(ct);function lt(e){var t,n,a,r,i,l,o,u;return Ze.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(at.c)({type:"REQUEST_DATA"});case 3:return t=e.payload.url,O("url",t),s.next=7,Object(at.b)(nt,t);case 7:return n=s.sent,a=n.data,s.next=11,Object(at.b)(qe,a);case 11:return r=s.sent,i=Object(c.a)(r,2),l=i[0],o=i[1],u=l.find((function(e){return Ke((o[0]||{})[e])}))||"",s.next=18,Object(at.c)({type:"LOAD_DATA_SUCCESS",payload:{url:t,titles:l,rawData:o,filteredData:o,groupData:Ve(u,o),mapData:[],stateKey:u}});case 18:s.next=24;break;case 20:return s.prev=20,s.t0=s.catch(0),s.next=24,Object(at.c)({type:"LOAD_DATA_FAILURE",message:s.t0.message});case 24:case"end":return s.stop()}}),rt,null,[[0,20]])}function ct(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.a)([Object(at.d)("LOAD_DATA_SAGA",lt)]);case 2:case"end":return e.stop()}}),it)}var ot=ct,ut=Object(Qe.a)(),st=Object(Re.e)(Object(Re.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_DATA":return Object(J.a)(Object(J.a)({},Ye),{},{loading:!0});case"LOAD_DATA_SUCCESS":return Object(J.a)(Object(J.a)({},Ye),{},{loading:!1},t.payload);case"LOAD_DATA_FAILURE":return Object(J.a)(Object(J.a)({},Ye),{},{loading:!1});case"SET_STATE_AND_GROUP":return Object(J.a)(Object(J.a)({},e),{},{stateKey:t.payload.stateKey,groupData:Ve(t.payload.stateKey,e.filteredData),mapData:[]});case"SET_DISPLAY_FIELD":var n=e.displayField&&e.aggregationAction&&t.payload.displayField===e.displayField;return Object(J.a)(Object(J.a)({},e),{},{displayField:t.payload.displayField,aggregationAction:t.payload.aggregationAction,mapData:n?He(e.mapData,t.payload.aggregationAction):We(e.groupData,t.payload.displayField,t.payload.aggregationAction)});case"ADD_FILTERS":var a=t.payload.filteringFuncitons,r=Xe(e.rawData,a),i=Ve(e.stateKey,r);return Object(J.a)(Object(J.a)({},e),{},{filteringFuncitons:a,filteredData:r,groupData:i,mapData:We(i,e.displayField,e.aggregationAction)});case"APPLY_FILTERS":return Object(J.a)(Object(J.a)({},e),{},{mapData:t.payload.mapData});default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TITLE":return Object(J.a)(Object(J.a)({},e),{},{title:t.payload});case"SET_COLOR_AXIS_MAX":case"SET_COLOR_AXIS_MIN":return Object(J.a)(Object(J.a)({},e),{},{colorAxis:Object(J.a)(Object(J.a)({},e.colorAxis),t.payload)});case"SET_COLOR_AXIS_STOPS":return Object(J.a)(Object(J.a)({},e),{},{colorAxis:Object(J.a)(Object(J.a)({},e.colorAxis),{},{stops:t.payload.stops})});case"SET_MAP_DATA":return Object(J.a)(Object(J.a)({},e),{},{colorAxis:Object(J.a)(Object(J.a)({},e.colorAxis),t.payload.colorAxis),series:[Object(J.a)({},e.series[0]),Object(J.a)({dataLabels:{enabled:!0,format:"{point.name}"}},t.payload.series)]});default:return e}}}),Object(Re.a)(ut));ut.run(ot),l.a.render(r.a.createElement(u.a,{store:st},r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[193,1,2]]]);
//# sourceMappingURL=main.ed7f3648.chunk.js.map