(this["webpackJsonpmap-dashboard"]=this["webpackJsonpmap-dashboard"]||[]).push([[0],{343:function(e,t,a){e.exports=a(546)},348:function(e,t,a){},527:function(e,t,a){},546:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(42),l=a.n(i),o=(a(348),a(41)),c=a(91),u=a(46),s=(a(361),a(362),function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(null),s=Object(o.a)(l,2),d=(s[0],s[1]),f=Object(u.c)((function(e){return e.data})),m=f.filteredData,p=f.titles;return r.a.createElement("div",{className:"ag-theme-alpine",style:{height:400,width:"100%",marginRight:""}},r.a.createElement(c.AgGridReact,{defaultColDef:{resizable:!0},onGridReady:function(e){i(e.api),d(e.columnApi)},onRowDataChanged:function(){a&&a.sizeColumnsToFit()},rowData:m},p.map((function(e){return r.a.createElement(c.AgGridColumn,{key:e,field:e,sortable:!0,skipHeaderOnAutoSize:!0,suppressSizeToFit:!1})}))))}),d=a(239),f=a.n(d),m=a(320),p=a.n(m),v=a(321),h=a.n(v),b=a(69),g=function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(decodeURIComponent(n[0])===e){var r=decodeURIComponent(n[1]);return r.includes("|#|")&&(r=r.split("|#|").map((function(e){return e.split(",")}))),r}}},y=function(e,t){Array.isArray(t)&&(t=t.join("|#|"));var a=new URLSearchParams(window.location.search);a.set(e,t),window.history.replaceState(null,null,"?"+a.toString())},O=function(e){return y("t",e),{type:"SET_TITLE",payload:{text:e}}},j=function(e){return y("mi",e),{type:"SET_COLOR_AXIS_MIN",payload:{min:e}}},E=function(e){return y("ma",e),{type:"SET_COLOR_AXIS_MAX",payload:{max:e}}},w=function(e){return e=e.sort((function(e,t){return+e[0]>+t[0]?1:-1})),y("st",e),{type:"SET_COLOR_AXIS_STOPS",payload:{stops:Object(b.a)(e)}}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=(e||[]).map((function(e){return e[1]}));return{type:"SET_MAP_DATA",payload:{series:{data:Object(b.a)(e),name:t},colorAxis:{min:Math.min.apply(Math,Object(b.a)(a)),max:Math.max.apply(Math,Object(b.a)(a))}}}},x=a(329);a(363)(f.a),h()(f.a),"undefined"!==typeof window&&(window.proj4=window.proj4||x.a);var S=function(){var e=Object(u.c)((function(e){return e.data})),t=e.mapData,a=e.displayField,i=Object(u.c)((function(e){return e.options})),l=Object(u.b)();return Object(n.useEffect)((function(){0!==t.length?l(A(t,a)):l(A())}),[t,a,l]),r.a.createElement(r.a.Fragment,null,i?r.a.createElement(p.a,{highcharts:f.a,options:i,constructorType:"mapChart"}):null)},D=function(){return r.a.createElement("div",{style:{width:"50%",padding:"10px",border:"1px solid #c4c4c4"}},r.a.createElement("div",{style:{width:"600",height:"400px"}},r.a.createElement(S,null)))},C=a(581),k=a(595),_=a(596),T=a(584),F=a(592),R=Object(C.a)((function(e){return{button:{display:"block"},formControl:{minWidth:120,width:"100%"}}}));function L(e){var t=e.values,a=e.onChange,i=e.label,l=e.value,c=R(),u=Object(n.useState)(l),s=Object(o.a)(u,2),d=s[0],f=s[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),v=p[0],h=p[1];Object(n.useEffect)((function(){d!==l&&f(l)}),[l,d]);return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(T.a,{className:c.formControl},r.a.createElement(k.a,{id:"demo-controlled-open-select-label"},i),r.a.createElement(F.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:v,onClose:function(){h(!1)},onOpen:function(){h(!0)},value:d,style:{width:"100%"},onChange:function(e){f(e.target.value),a(e.target.value)}},r.a.createElement(_.a,{value:""},r.a.createElement("em",null,"None")),t.map((function(e){return r.a.createElement(_.a,{value:e,key:e},e)})))))}var I=function(e){return{type:"LOAD_DATA_SAGA",payload:{url:e}}},N=function(e,t){return y("df",e),y("a",t),{type:"SET_DISPLAY_FIELD",payload:{displayField:e,aggregationAction:t}}},P=function(e){return y("s",e),{type:"SET_STATE_AND_GROUP",payload:{stateKey:e}}},M=a(322),U=a(323),G=function(){function e(t,a){var n=this;Object(M.a)(this,e),this.arr=t,this.key=a,this.numberData=t.map((function(e){return parseFloat(e[n.key])})).filter((function(e){return!isNaN(e)}))}return Object(U.a)(e,[{key:"average",value:function(){if(this.countOfNumbers())return this.sum()/this.countOfNumbers()}},{key:"count",value:function(){return this.arr.length}},{key:"countOfNumbers",value:function(){return this.numberData.length}},{key:"max",value:function(){return void 0!==this._max||(this._max=Math.max.apply(Math,Object(b.a)(this.numberData))),this._max}},{key:"min",value:function(){return void 0!==this._min||(this._min=Math.min.apply(Math,Object(b.a)(this.numberData))),this._min}},{key:"sum",value:function(){return void 0!==this._sum||(this._sum=this.numberData.reduce((function(e,t){return e+t}),0)),this._sum}}]),e}(),z=a(145),B=Object.getOwnPropertyNames(G.prototype).filter((function(e){return"constructor"!==e})).map((function(e){return Object(z.startCase)(e)})),K=function(){var e=Object(u.c)((function(e){return e.data})),t=e.titles,a=e.stateKey,i=e.displayField,l=e.aggregationAction,o=Object(u.b)();Object(n.useEffect)((function(){var e=g("s"),t=g("df"),n=g("a");e!==a&&o(P(a)),(t&&t!==i||n&&n!==l)&&o(N(t,n))}),[t,a,i,l,o]);return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",flex:1}},(null===t||void 0===t?void 0:t.length)?r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(L,{value:a,values:t,onChange:function(e){o(P(e))},label:"State Field"})):null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(L,{value:i,values:t,onChange:function(e){o(N(e,l))},label:"Display Field"})),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(L,{value:l,values:B,onChange:function(e){o(N(i,e))},label:"Aggregation"}))):null)},X=a(229),W=a(324),H=a(325),V=a(330),Y=a(31),J=a(597),Q=Object(C.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function $(e){var t=Q();return r.a.createElement("div",null,r.a.createElement(J.a,Object.assign({labelid:"date-picker-"+e.label,type:"date",className:t.textField,InputLabelProps:{shrink:!0},InputProps:{inputProps:Object(Y.a)({},e)}},e)))}var q=function(e,t){return e.map((function(e){return new Date(e[t])})).filter((function(e){return!isNaN(e.getTime())}))},Z=function(e){return Object(V.a)(e,"yyyy-MM-dd")},ee=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.data})),a=t.titles,i=t.rawData,l=Object(n.useState)(""),c=Object(o.a)(l,2),s=c[0],d=c[1],f=Object(n.useState)(""),m=Object(o.a)(f,2),p=m[0],v=m[1],h=Object(n.useState)(""),b=Object(o.a)(h,2),O=b[0],j=b[1],E=Object(n.useState)(""),w=Object(o.a)(E,2),A=w[0],x=w[1],S=Object(n.useState)(""),D=Object(o.a)(S,2),C=D[0],k=D[1];if(Object(n.useEffect)((function(){var e=g("f")||[],t=Object(o.a)(e,1)[0];t&&(console.log(t),d(t[1]),x(t[2]),k(t[3]))}),[a]),!(null===a||void 0===a?void 0:a.length))return null;var _=function(t,a,n){var r;e((y("f",r=[["dateBetween",t,a,n]]),{type:"ADD_FILTERS",payload:{filteringFuncitons:r}}))};return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"space-between"}},r.a.createElement("div",{style:{width:"45%",alignSelf:"center"}},r.a.createElement(L,{value:s,values:a,onChange:function(e){try{var t=function(e,t){var a=q(e,t);return Z(Object(W.a)(a))}(i,e),a=function(e,t){var a=q(e,t);return Z(Object(H.a)(a))}(i,e);d(e),v(t),x(t),j(a),k(a),_(e,t,a)}catch(n){d(""),v(""),x(""),j(""),k("")}},label:"Date Field"})),s?r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement($,{label:"From",min:p,max:C,value:A,onChange:function(e){var t=e.target.value;x(t),_(s,t,C)}}),r.a.createElement($,{label:"To",min:A,max:O,value:C,onChange:function(e){var t=e.target.value;k(t),_(s,A,t)}})):null)};function te(e){return r.a.createElement(J.a,Object.assign({id:"standard-basic",style:{width:"100%",paddingBottom:"10px"}},e))}var ae=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){var t=e.data;return null===t||void 0===t?void 0:t.url})),a=Object(n.useState)(t),i=Object(o.a)(a,2),l=i[0],c=i[1];Object(n.useEffect)((function(){var t=g("url");t&&e(I(t))}),[e]),Object(n.useEffect)((function(){c(t)}),[t]);return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(te,{label:"Url for a CSV",value:l,onChange:function(e){return c(e.target.value)},onBlur:function(a){var n;(n=a.target.value)!==t&&e(I(n))}}))},ne=a(593),re=a(594),ie=a(591),le=a(590),oe=a(331),ce=8,ue=46,se=function(e){return"undefined"===typeof(e=e||window.event).which?e.keyCode:e.which},de=function(e){(function(e){return[37,39].indexOf(e.keyCode)>-1})(e)||function(e){return[ue,ce].indexOf(e.keyCode)>-1}(e)?e.stopPropagation():function(e){var t=se(e);return 13===t||9===t}(e)||function(e){var t=se(e),a=e.key?e.key:String.fromCharCode(t);return function(e){return!!/[0-9]*\.?[0-9]+/.test(e)}(e.target.value+a)}(e)||e.preventDefault&&e.preventDefault()},fe=Object(n.forwardRef)((function(e,t){var a=function(){var t,a=!0;return e.keyPress===ce||e.keyPress===ue?t="":e.charPress?(t=e.charPress,a=!1):(t=e.value,113===e.keyPress&&(a=!1)),{value:t,highlightAllOnFocus:a}}(),i=Object(n.useState)(a.value),l=Object(o.a)(i,2),c=l[0],u=l[1],s=Object(n.useState)(a.highlightAllOnFocus),d=Object(o.a)(s,2),f=d[0],m=d[1],p=Object(n.useRef)(null),v=e.charPress&&"1234567890.".indexOf(e.charPress)<0;return Object(n.useEffect)((function(){return window.addEventListener("keydown",de),function(){window.removeEventListener("keydown",de)}}),[]),Object(n.useImperativeHandle)(t,(function(){return{afterGuiAttached:function(){var e=p.current;if(e.focus(),f)e.select(),m(!1);else{var t=e.value?e.value.length:0;t>0&&e.setSelectionRange(t,t)}},getValue:function(){return c},isCancelBeforeStart:function(){return v},isCancelAfterEnd:function(){return c>1e6}}})),r.a.createElement("input",{ref:p,value:c,onChange:function(e){return u(e.target.value)},style:{width:"95%"}})})),me=a(326),pe=(a(527),Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(e.value),i=Object(o.a)(a,2),l=i[0],c=i[1],u=Object(n.useRef)(null);return Object(n.useImperativeHandle)(t,(function(){return{getValue:function(){return l},isPopup:function(){return!0}}})),r.a.createElement("div",{ref:u,style:{padding:"10px"}},r.a.createElement(me.SketchPicker,{color:l,onChangeComplete:function(e){var t=e.hex;t&&c(t)}}))}))),ve=a(589);function he(e){return[e.stop,e.color]}var be=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=(t[0],t[1]),i=Object(n.useState)(null),l=Object(o.a)(i,2),s=(l[0],l[1]),d=Object(u.b)(),f=Object(u.c)((function(e){var t=e.data;return null===t||void 0===t?void 0:t.url})),m=Object(u.c)((function(e){return e.options.title.text})),p=Object(u.c)((function(e){return e.options.colorAxis.min})),v=Object(u.c)((function(e){return e.options.colorAxis.max})),h=Object(u.c)((function(e){return e.options.colorAxis.stops.map((function(e,t){var a=Object(o.a)(e,2),n=a[0],r=a[1];return{stop:n,color:r,_id:t+n+r}}))}));Object(n.useEffect)((function(){var e=g("mi");e&&e!==p&&f&&d(j(e))}),[p,f,d]),Object(n.useEffect)((function(){var e=g("ma");e&&e!==v&&f&&d(E(e))}),[v,f,d]),Object(n.useEffect)((function(){var e=g("t");e&&e!==m&&f&&d(O(e))}),[m,f,d]),Object(n.useEffect)((function(){var e=g("st"),t=h.map(he);e&&e.toString()!==t.toString()&&f&&d(w(e))}),[h,f,d]);return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(te,{label:"title",value:m,onChange:function(e){return t=e.target.value,void d(O(t));var t}}),r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row"}},r.a.createElement(te,{label:"Color Axis Min",value:p,onChange:function(e){return t=e.target.value,void d(j(t));var t}}),r.a.createElement(te,{label:"Color Axis Max",value:v,onChange:function(e){return t=e.target.value,void d(E(t));var t}}),r.a.createElement(ve.a,{style:{width:"33%"},onClick:function(){var e=[].concat(Object(b.a)(h.map(he)),[[0,"#000"]]);d(w(e))}},"Add stop")),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{className:"ag-theme-alpine",style:{height:300,width:"100%"}},r.a.createElement(c.AgGridReact,{defaultColDef:{flex:1,minWidth:100,filter:!0,editable:!0},onGridReady:function(e){a(e.api),s(e.columnApi)},modules:[oe.a],onCellValueChanged:function(e){var t=h.map((function(e){return Object(Y.a)({},e)}));t[e.rowIndex]=Object(Y.a)({},e.data);var a=t.map(he);d(w(a))},singleClickEdit:!0,frameworkComponents:{numericEditor:fe,colorEditor:pe,deleteButton:function(){return r.a.createElement(ve.a,{style:{width:"100%"}},"Delete")}},immutableData:!0,getRowNodeId:function(e){return e._id},rowData:h},r.a.createElement(c.AgGridColumn,{field:"stop",sortable:!0,editable:!0,cellEditor:"numericEditor"}),r.a.createElement(c.AgGridColumn,{flex:2,field:"color",editable:!0,cellEditor:"colorEditor",cellStyle:function(e){return{backgroundColor:null===e||void 0===e?void 0:e.value,color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",letterSpacing:"2px"}}}),r.a.createElement(c.AgGridColumn,{headerName:"Delete",cellRenderer:"deleteButton",onCellClicked:function(e){var t=[];e.api.applyTransaction({remove:[e.data]}),e.api.forEachNode((function(e){return t.push(e.data)}));var a=t.map(he);d(w(a))},editable:!1})))))},ge=Object(C.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),ye=function(){var e=ge();return r.a.createElement(ne.a,null,r.a.createElement(re.a,{"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(le.a,{className:e.heading},"Data Source")),r.a.createElement(ie.a,null,r.a.createElement(ae,null)))},Oe=function(){var e=ge();return r.a.createElement(ne.a,null,r.a.createElement(re.a,{"aria-controls":"panel4a-content",id:"panel3a-header"},r.a.createElement(le.a,{className:e.heading},"Chart Settings")),r.a.createElement(ie.a,null,r.a.createElement(be,null)))},je=function(){var e=ge();return r.a.createElement(ne.a,null,r.a.createElement(re.a,{"aria-controls":"panel2a-content",id:"panel3a-header"},r.a.createElement(le.a,{className:e.heading},"Filters")),r.a.createElement(ie.a,null,r.a.createElement(ee,null)))},Ee=function(){var e=ge();return r.a.createElement(ne.a,null,r.a.createElement(re.a,{"aria-controls":"panel3a-content",id:"panel3a-header"},r.a.createElement(le.a,{className:e.heading},"Aggregation Settings")),r.a.createElement(ie.a,null,r.a.createElement(K,null)))},we=function(){var e=Object(u.c)((function(e){return e.data})),t=e.loading,a=e.titles;return console.log(a.length),r.a.createElement("div",{style:{width:"50%",padding:"10px",border:"1px solid #c4c4c4",overflow:"scroll"}},r.a.createElement(ye,null),t?"loading":null,!t&&a.length?r.a.createElement(Oe,null):null,a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null),r.a.createElement(Ee,null)):null)},Ae=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"US State Data Mapping Tool")),r.a.createElement("div",{style:{display:"flex",padding:"10px",justifyContent:"space-between",height:"422px"}},r.a.createElement(we,null),r.a.createElement(D,null)),r.a.createElement("div",{style:{flex:1,padding:"10px"}},r.a.createElement(s,null)))},xe=a(89);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se={al:"al",ak:"ak",az:"az",ar:"ar",ca:"ca",co:"co",ct:"ct",de:"de",fl:"fl",ga:"ga",hi:"hi",id:"id",il:"il",in:"in",ia:"ia",ks:"ks",ky:"ky",la:"la",me:"me",md:"md",ma:"ma",mi:"mi",mn:"mn",ms:"ms",mo:"mo",mt:"mt",ne:"ne",nv:"nv",nh:"nh",nj:"nj",nm:"nm",ny:"ny",nc:"nc",nd:"nd",oh:"oh",ok:"ok",or:"or",pa:"pa",ri:"ri",sc:"sc",sd:"sd",tn:"tn",tx:"tx",ut:"ut",vt:"vt",va:"va",wa:"wa",wv:"wv",wi:"wi",wy:"wy",alabama:"al",alaska:"ak",arizona:"az",arkansas:"ar",california:"ca",colorado:"co",connecticut:"ct",delaware:"de",florida:"fl",georgia:"ga",hawaii:"hi",idaho:"id",illinois:"il",indiana:"in",iowa:"ia",kansas:"ks",kentucky:"ky",louisiana:"la",maine:"me",maryland:"md",massachusetts:"ma",michigan:"mi",minnesota:"mn",mississippi:"ms",missouri:"mo",montana:"mt",nebraska:"ne",nevada:"nv",newhampshire:"nh",newjersey:"nj",newmexico:"nm",newyork:"ny",northcarolina:"nc",northdakota:"nd",ohio:"oh",oklahoma:"ok",oregon:"or",pennsylvania:"pa",rhodeisland:"ri",southcarolina:"sc",southdakota:"sd",tennessee:"tn",texas:"tx",utah:"ut",vermont:"vt",virginia:"va",washington:"wa",westvirginia:"wv",wisconsin:"wi",wyoming:"wy",ala:"al",ariz:"az",ark:"ar",calif:"ca",colo:"co",conn:"ct",del:"de",fla:"fl",ill:"il",ind:"in",kans:"ks",mass:"ma",mich:"mi",minn:"mn",miss:"ms",mont:"mt",neb:"ne",nebr:"ne",nev:"nv",nmex:"nm",ndak:"nd",okla:"ok",ore:"or",oreg:"or",sdak:"sd",tenn:"tn",tex:"tx",wash:"wa",wva:"wv",wis:"wi",wisc:"wi",wyo:"wy"},De={dateBetween:function(e,t,a){return t=new Date(t),a=new Date(a),function(n){var r=new Date(n[e]);return!isNaN(r.getTime())&&Object(X.a)(r,{start:t,end:a})}}},Ce=function(e){var t=De[e];if(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}return null},ke=function(e,t){if(!e)return[];var a=t.reduce((function(t,a){if(!a[e])return t;var n=_e(a[e]);return n?(t[n]||(t[n]=[n,[]]),t[n][1].push(a),t):t}),{});return Object.values(a)},_e=function(e){if("string"!==typeof e)return null;var t=Se[e.toLowerCase().replace(/[^a-z]/gim,"")];return t?"us-"+t:null},Te=function(e,t){if(0===t.length)return e;console.log(t);var a=t.map((function(e){return Ce.apply(void 0,Object(b.a)(e))})).filter(Boolean);return console.log(a),e.filter((function(e){return a.every((function(t){return t(e)}))}))},Fe=function(e,t,a){return a&&t?(a=Object(z.camelCase)(a),e.map((function(e){var n=Object(o.a)(e,2),r=n[0],i=n[1],l=new G(i,t);return[r,l[a](),l]}))):[]},Re=function(e,t){return t&&Array.isArray(e)?(t=Object(z.camelCase)(t),e.map((function(e){var a=Object(o.a)(e,3),n=a[0],r=(a[1],a[2]);return[n,r[t](),r]}))):[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=e.slice(0,e.indexOf("\n")).split(t),n=e.slice(e.indexOf("\n")+1).split("\n");return[a,n.map((function(e){var n=e.split(t);return a.reduce((function(e,t,a){return e[t]=n[a],e}),{})}))]},Ie={url:"",titles:[],rawData:[],filteredData:[],stateKey:"",groupData:[],displayField:"",aggregationAction:"",filteringFuncitons:[],mapData:[],loading:!1},Ne={chart:{map:a(327)},title:{text:""},mapNavigation:{enabled:!0},colorAxis:{min:0,max:1,stops:[[0,"#00FF00"],[.5,"#FFF"],[1,"#C40401"]]},series:[{name:"Separators",type:"mapline",color:"silver",nullColor:"silver",showInLegend:!1,enableMouseTracking:!1}]},Pe=a(332),Me=a(146),Ue=a.n(Me),Ge=a(328),ze=a.n(Ge),Be=function(e){return function(e){var t;try{t=new URL(e)}catch(a){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)?ze.a.get("https://map-dashboard-cors.herokuapp.com/".concat(e),{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Access-Control-Allow-Headers"}}):Promise.reject("invalid url")};var Ke=a(92),Xe=Ue.a.mark(He),We=Ue.a.mark(Ve);function He(e){var t,a,n,r,i,l,c,u;return Ue.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(Ke.c)({type:"REQUEST_DATA"});case 3:return t=e.payload.url,y("url",t),s.next=7,Object(Ke.b)(Be,t);case 7:return a=s.sent,n=a.data,s.next=11,Object(Ke.b)(Le,n);case 11:return r=s.sent,i=Object(o.a)(r,2),l=i[0],c=i[1],u=l.find((function(e){return _e((c[0]||{})[e])}))||"",s.next=18,Object(Ke.c)({type:"LOAD_DATA_SUCCESS",payload:{url:t,titles:l,rawData:c,filteredData:c,groupData:ke(u,c),mapData:[],stateKey:u}});case 18:s.next=24;break;case 20:return s.prev=20,s.t0=s.catch(0),s.next=24,Object(Ke.c)({type:"LOAD_DATA_FAILURE",message:s.t0.message});case 24:case"end":return s.stop()}}),Xe,null,[[0,20]])}function Ve(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.a)([Object(Ke.d)("LOAD_DATA_SAGA",He)]);case 2:case"end":return e.stop()}}),We)}var Ye=Ve,Je=Object(Pe.a)(),Qe=Object(xe.e)(Object(xe.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_DATA":return Object(Y.a)(Object(Y.a)({},Ie),{},{loading:!0});case"LOAD_DATA_SUCCESS":return Object(Y.a)(Object(Y.a)({},Ie),{},{loading:!1},t.payload);case"LOAD_DATA_FAILURE":return Object(Y.a)(Object(Y.a)({},Ie),{},{loading:!1});case"SET_STATE_AND_GROUP":return Object(Y.a)(Object(Y.a)({},e),{},{stateKey:t.payload.stateKey,groupData:ke(t.payload.stateKey,e.filteredData),mapData:[]});case"SET_DISPLAY_FIELD":var a=e.displayField&&e.aggregationAction&&t.payload.displayField===e.displayField;return Object(Y.a)(Object(Y.a)({},e),{},{displayField:t.payload.displayField,aggregationAction:t.payload.aggregationAction,mapData:a?Re(e.mapData,t.payload.aggregationAction):Fe(e.groupData,t.payload.displayField,t.payload.aggregationAction)});case"ADD_FILTERS":var n=t.payload.filteringFuncitons,r=Te(e.rawData,n),i=ke(e.stateKey,r);return Object(Y.a)(Object(Y.a)({},e),{},{filteringFuncitons:n,filteredData:r,groupData:i,mapData:Fe(i,e.displayField,e.aggregationAction)});case"APPLY_FILTERS":return Object(Y.a)(Object(Y.a)({},e),{},{mapData:t.payload.mapData});default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TITLE":return Object(Y.a)(Object(Y.a)({},e),{},{title:t.payload});case"SET_COLOR_AXIS_MAX":case"SET_COLOR_AXIS_MIN":return Object(Y.a)(Object(Y.a)({},e),{},{colorAxis:Object(Y.a)(Object(Y.a)({},e.colorAxis),t.payload)});case"SET_COLOR_AXIS_STOPS":return Object(Y.a)(Object(Y.a)({},e),{},{colorAxis:Object(Y.a)(Object(Y.a)({},e.colorAxis),{},{stops:t.payload.stops})});case"SET_MAP_DATA":return Object(Y.a)(Object(Y.a)({},e),{},{colorAxis:Object(Y.a)(Object(Y.a)({},e.colorAxis),t.payload.colorAxis),series:[Object(Y.a)({},e.series[0]),Object(Y.a)({dataLabels:{enabled:!0,format:"{point.name}"}},t.payload.series)]});default:return e}}}),Object(xe.a)(Je));Je.run(Ye),l.a.render(r.a.createElement(u.a,{store:Qe},r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[343,1,2]]]);
//# sourceMappingURL=main.e7c2362b.chunk.js.map